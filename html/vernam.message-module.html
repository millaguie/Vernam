<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>vernam.message</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="vernam-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

      <th class="navbar" width="100%"></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        <a href="vernam-module.html">Package&nbsp;vernam</a> ::
        Module&nbsp;message
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
        <tr><td align="right"><span class="options">[<a href="javascript:void(0);" class="privatelink"
    onclick="toggle_private();">hide&nbsp;private</a>]</span></td></tr>
        <tr><td align="right"><span class="options"
            >[<a href="frames.html" target="_top">frames</a
            >]&nbsp;|&nbsp;<a href="vernam.message-module.html"
            target="_top">no&nbsp;frames</a>]</span></td></tr>
      </table>
    </td>
  </tr>
</table>
<!-- ==================== MODULE DESCRIPTION ==================== -->
<h1 class="epydoc">Module message</h1><p class="nomargin-top"><span class="codelink"><a href="vernam.message-pysrc.html">source&nbsp;code</a></span></p>
<p>Message class holds all methods to work with message files</p>

<!-- ==================== FUNCTIONS ==================== -->
<a name="section-Functions"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Functions</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Functions"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="vernam.message-module.html#readMessage" class="summary-sig-name">readMessage</a>(<span class="summary-sig-arg">keyPath</span>,
        <span class="summary-sig-arg">messagePath</span>)</span><br />
      This function reads a message (envelope) in the defined format, and
returns the data inside the file, offset in key file and the reading mode
for the key.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="vernam.message-pysrc.html#readMessage">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="vernam.message-module.html#writeHumanMessage" class="summary-sig-name">writeHumanMessage</a>(<span class="summary-sig-arg">outputPath</span>,
        <span class="summary-sig-arg">message</span>,
        <span class="summary-sig-arg">seek</span>)</span><br />
      This function writes a message in the human friendly format.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="vernam.message-pysrc.html#writeHumanMessage">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="vernam.message-module.html#readHumanMessage" class="summary-sig-name">readHumanMessage</a>(<span class="summary-sig-arg">inputPath</span>)</span><br />
      This function reads a message in the human friendly format.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="vernam.message-pysrc.html#readHumanMessage">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="vernam.message-module.html#writeMessage" class="summary-sig-name">writeMessage</a>(<span class="summary-sig-arg">keyPath</span>,
        <span class="summary-sig-arg">messagePath</span>,
        <span class="summary-sig-arg">ciphered</span>,
        <span class="summary-sig-arg">offsetInKey</span>,
        <span class="summary-sig-arg">l2r</span>=<span class="summary-sig-default">True</span>)</span><br />
      This function Writes a message in the defined format.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="vernam.message-pysrc.html#writeMessage">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
</table>
<!-- ==================== VARIABLES ==================== -->
<a name="section-Variables"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Variables</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Variables"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="L2RHEADER"></a><span class="summary-name">L2RHEADER</span> = <code title="bytearray(b'\xde\xd2\x07\xa3d')">bytearray(b'\xde\xd2\x07\xa3d')</code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="R2LHEADER"></a><span class="summary-name">R2LHEADER</span> = <code title="bytearray(b'\xde\xd2\x07\xa3e')">bytearray(b'\xde\xd2\x07\xa3e')</code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="__package__"></a><span class="summary-name">__package__</span> = <code title="'vernam'"><code class="variable-quote">'</code><code class="variable-string">vernam</code><code class="variable-quote">'</code></code>
    </td>
  </tr>
</table>
<!-- ==================== FUNCTION DETAILS ==================== -->
<a name="section-FunctionDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Function Details</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-FunctionDetails"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
</table>
<a name="readMessage"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">readMessage</span>(<span class="sig-arg">keyPath</span>,
        <span class="sig-arg">messagePath</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="vernam.message-pysrc.html#readMessage">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <pre class="literalblock">

This function reads a message (envelope) in the defined format, and
returns the data inside the file, offset in key file and the reading mode
for the key.
It checks that message key UUID matchs defined key UUID, also checks
consistency of message via sha512

 Parameters
-----------
keyPath     : path to the file used as key
messagePath : path to the file used to read the message

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="writeHumanMessage"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">writeHumanMessage</span>(<span class="sig-arg">outputPath</span>,
        <span class="sig-arg">message</span>,
        <span class="sig-arg">seek</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="vernam.message-pysrc.html#writeHumanMessage">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <pre class="literalblock">

This function writes a message in the human friendly format.
Format of the message is as follows:

offset#message

 Parameters
-----------
outputPath  : path to the new message file
message     : message to write in the file
seek        : offset in key to decrypt message

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="readHumanMessage"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">readHumanMessage</span>(<span class="sig-arg">inputPath</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="vernam.message-pysrc.html#readHumanMessage">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <pre class="literalblock">

This function reads a message in the human friendly format.
Function will return two elements, key offset and the
encrypted message.
 Parameter
----------
inputPath   : path to the message file to read

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="writeMessage"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">writeMessage</span>(<span class="sig-arg">keyPath</span>,
        <span class="sig-arg">messagePath</span>,
        <span class="sig-arg">ciphered</span>,
        <span class="sig-arg">offsetInKey</span>,
        <span class="sig-arg">l2r</span>=<span class="sig-default">True</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="vernam.message-pysrc.html#writeMessage">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <pre class="literalblock">

This function Writes a message in the defined format.
Format of the message is as follows
* Header 20 bytes, as defined, two options, one for R2L and another for L2R
  it's on the todo.
* Message size in 8 bytes (64 bits) integer
* Key UUID used in message 16 bytes
* Message it's self, it's size is defined in the second field
* Hash of the message, 32 bytes a sha512

 Parameters
-----------
keyPath     : path to the file used as key
messagePath : path to the file used to store the message
ciphered    : ciphered data to write in the file (envelope)
offsetInKey : need to jump to this byte in key to decrypt
l2r         : Indicates if the key will need to be readed R2L or L2R (True)

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="vernam-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

      <th class="navbar" width="100%"></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
    Generated by Epydoc 3.0.1 on Sun Jun  4 15:54:27 2017
    </td>
    <td align="right" class="footer">
      <a target="mainFrame" href="http://epydoc.sourceforge.net"
        >http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie();
  // -->
</script>
</body>
</html>
